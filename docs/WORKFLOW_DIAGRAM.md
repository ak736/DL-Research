# Visual Workflow Diagram

## ğŸ“Š Complete Project Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WEEK 1-2: PHASE 1                           â”‚
â”‚                    (Aniket â†’ Sarghi)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   1. Data Preparation            â”‚
         â”‚   python quick_setup.py          â”‚
         â”‚                                  â”‚
         â”‚   Output: data/*.json files      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   2. Build Baseline LoRA         â”‚
         â”‚   (src/phase1_baseline/)         â”‚
         â”‚                                  â”‚
         â”‚   - model.py                     â”‚
         â”‚   - evaluate.py                  â”‚
         â”‚   - train_baseline.py            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   3. Test Everything             â”‚
         â”‚   python test_train_baseline.py  â”‚
         â”‚                                  â”‚
         â”‚   Status: âœ… ALL TESTS PASSED    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   4. Run Full Training           â”‚
         â”‚   python run_baseline.py         â”‚
         â”‚                                  â”‚
         â”‚   Output:                        â”‚
         â”‚   - baseline_results.json        â”‚
         â”‚   - baseline_lora.pt             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   5. Sarghi Testing (Week 2)     â”‚
         â”‚   - Verify on own machine        â”‚
         â”‚   - Run 3 times                  â”‚
         â”‚   - Document results             â”‚
         â”‚                                  â”‚
         â”‚   Status: READY / NEEDS FIX      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                  â”‚
â–¼                                                  â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WEEK 3-7: PHASE 2         â”‚    â”‚   WEEK 3-7: PHASE 3         â”‚
â”‚   (Aniket)                  â”‚    â”‚   (Sarghi)                  â”‚
â”‚                             â”‚    â”‚                             â”‚
â”‚   Fisher-Guided LoRA        â”‚    â”‚   Other Baselines           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                      â”‚
         â”‚  Uses:                              â”‚  Uses:
         â”‚  âœ“ data_loader.py                  â”‚  âœ“ data_loader.py
         â”‚  âœ“ metrics.py                      â”‚  âœ“ metrics.py
         â”‚  âœ“ baseline as template            â”‚  âœ“ baseline as template
         â”‚                                     â”‚
         â”‚  Creates:                           â”‚  Creates:
         â”‚  - fisher_computation.py            â”‚  - ewc_lora.py
         â”‚  - fisher_lora.py                   â”‚  - i_lora.py
         â”‚  - train_fisher_lora.py             â”‚  - (cur_lora.py)
         â”‚                                     â”‚
         â”‚  Goal:                              â”‚  Goal:
         â”‚  Forgetting < 5%                    â”‚  Implement comparisons
         â”‚                                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   WEEK 8: INTEGRATION            â”‚
         â”‚   (Both)                         â”‚
         â”‚                                  â”‚
         â”‚   - Combine all methods          â”‚
         â”‚   - Ensure same interface        â”‚
         â”‚   - Test together                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   WEEK 9-11: EXPERIMENTS         â”‚
         â”‚   (Sarghi leads)                 â”‚
         â”‚                                  â”‚
         â”‚   Run all methods:               â”‚
         â”‚   1. Standard LoRA               â”‚
         â”‚   2. EWC-LoRA                    â”‚
         â”‚   3. I-LoRA                      â”‚
         â”‚   4. Fisher-LoRA â­              â”‚
         â”‚                                  â”‚
         â”‚   Generate:                      â”‚
         â”‚   - Comparison tables            â”‚
         â”‚   - Plots                        â”‚
         â”‚   - Statistical tests            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   WEEK 12-14: PAPER              â”‚
         â”‚   (All)                          â”‚
         â”‚                                  â”‚
         â”‚   Write paper showing:           â”‚
         â”‚   Fisher-LoRA WINS! ğŸ‰          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ File Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  src/utils/             â”‚  â† SHARED BY ALL PHASES
â”‚  - data_loader.py       â”‚     (Don't modify!)
â”‚  - metrics.py           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â†“              â†“              â†“              â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1     â”‚  â”‚ Phase 2     â”‚  â”‚ Phase 3     â”‚  â”‚ Phase 4     â”‚
â”‚ Baseline    â”‚  â”‚ Fisher-LoRA â”‚  â”‚ Baselines   â”‚  â”‚ Experiments â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                â”‚                â”‚                â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  outputs/               â”‚
              â”‚  - baseline_results     â”‚
              â”‚  - fisher_results       â”‚
              â”‚  - ewc_results          â”‚
              â”‚  - i_lora_results       â”‚
              â”‚  - comparison_tables    â”‚
              â”‚  - figures/             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Through Pipeline

```
INPUT: MedQA Dataset
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  data_loader.py     â”‚  Load & Split
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                 â†“                 â†“
   General Med        Cardiology      Cardiology
   Test (19)          Train (40)      Test (10)
         â”‚                 â”‚                 â”‚
         â”‚                 â†“                 â”‚
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
         â”‚         â”‚  Train Model â”‚         â”‚
         â”‚         â”‚  (LoRA)      â”‚         â”‚
         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
         â”‚                 â”‚                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                  â†“                  â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  Evaluate   â”‚    â”‚  Evaluate   â”‚
           â”‚  (Before)   â”‚    â”‚  (After)    â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  metrics.py      â”‚  Calculate
                  â”‚  - Accuracy      â”‚
                  â”‚  - ECE           â”‚
                  â”‚  - Brier Score   â”‚
                  â”‚  - Forgetting    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Results JSON    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‘¥ Team Responsibilities Flow

```
ANIKET (Week 1)
    â†“ Builds baseline
    â†“ Tests everything
    â†“ Documents
    â†“
    â””â”€â”€â†’ Handoff to SARGHI

SARGHI (Week 2)
    â†“ Tests on own machine
    â†“ Validates results
    â†“ Reports issues
    â†“
    â””â”€â”€â†’ Approve / Request Fixes

TEAM MEETING (End Week 2)
    â†“ Review Phase 1
    â†“ Decision: GO / NO-GO
    â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    â”‚
â–¼                                    â–¼

ANIKET (Week 3-7)              SARGHI (Week 3-7)
Fisher-LoRA                    Other Baselines
    â”‚                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
        INTEGRATION (Week 8)
               â†“
     EXPERIMENTS (Week 9-11)
               â†“
         PAPER (Week 12-14)

CHARAN (Ongoing)
    â†“ Documents progress
    â†“ Takes meeting notes
    â†“ Prepares paper sections
```

---

## ğŸ¯ Success Criteria at Each Phase

```
Phase 1 âœ…
â”œâ”€ Code runs without errors
â”œâ”€ All tests pass
â”œâ”€ Results saved correctly
â”œâ”€ Demonstrates forgetting
â””â”€ Sarghi can replicate

Phase 2 (Goal)
â”œâ”€ Fisher matrix computed correctly
â”œâ”€ Training with constraints works
â”œâ”€ Forgetting < 5%
â”œâ”€ Calibration maintained (ECE < 0.08)
â””â”€ Code documented for Sarghi

Phase 3 (Goal)
â”œâ”€ 3 baseline methods work
â”œâ”€ All produce results in same format
â”œâ”€ Results comparable
â””â”€ Ready for integration

Phase 4 (Goal)
â”œâ”€ All methods run on same data
â”œâ”€ Fisher-LoRA outperforms baselines
â”œâ”€ Statistical significance shown
â””â”€ Paper-ready results & figures
```

---

## ğŸ“Š Expected Results Progression

```
                    Forgetting %
                         â”‚
                    15% â”‚  â”Œâ”€â”€â”€â”€â”€â”
                        â”‚  â”‚Base â”‚
                        â”‚  â”‚LoRA â”‚
                    10% â”‚  â””â”€â”€â”€â”€â”€â”˜
                        â”‚     â”Œâ”€â”€â”  â”Œâ”€â”€â”
                        â”‚     â”‚I-â”‚  â”‚EWC
                     5% â”‚     â”‚LoRA â”‚  â”‚
                        â”‚     â””â”€â”€â”˜  â””â”€â”€â”˜
                        â”‚              â”Œâ”€â”€â”€â”€â”
                     0% â”‚              â”‚Fishâ”‚
                        â”‚              â”‚LoRAâ”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â†’
                            Methods

                   â­ Fisher-LoRA should WIN!
```

---

## ğŸ”§ Quick Command Reference

```bash
# Setup (one-time)
python quick_setup.py

# Test individual components
python test_data_loader.py
python test_metrics.py
python test_model.py
python test_evaluate.py
python test_train_baseline.py

# Run full pipeline
python run_baseline.py

# Check results
cat outputs/phase1_baseline/baseline_results.json
```

---

## ğŸ“ Where You Are Now

```
âœ… Week 1: COMPLETE
    â†“
â†’ Week 2: Testing (Sarghi) â† YOU ARE HERE
    â†“
  Week 3-7: Implementation
    â†“
  Week 8-11: Experiments
    â†“
  Week 12-14: Paper
```

**Next Action:** Sarghi runs tests and validates!
